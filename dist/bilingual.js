window.MMDS.usr.bilingual={changeLang:(n,e)=>window.MMDS.usr.bilingual.extractLang(n)?n.replace(/\.([a-z]{1,3})\.([a-z]+)$/i,"."+e+".$2"):n,extractLang(n){var e=n.match(/\.([a-z]{1,3})\.[a-z]+$/i);return e?e[1]:""},switchTo:n=>{const e=window.MMDS.usr.bilingual,t=window.location.hash.substring(2);console.log("switch to",e.changeLang(t,n)),window.MMDS.go(e.changeLang(t,n))}},window.MMDS.addUpdater(((n,e)=>{const t=window.MMDS.usr.bilingual,a=t.extractLang(window.MMDS.settings.menuFile),i=t.extractLang(n);if(console.log("We're inside Bilingual updater",a,i),a===i||!i)return;const s=t.changeLang(window.MMDS.settings.menuFile,i);window.MMDS.settings.menuFile=s,window.MMDS.action.setMenu(s);var o=document.querySelector("#langSwitch");o&&(o.setAttribute("class",i),o.querySelectorAll("a").forEach((n=>{n.classList.remove("currentLanguage")})),o.querySelector("."+i).classList.add("currentLanguage"))})),console.info("Bilingual user script"),window.MMDS.once((function(n){const e=n.usr.bilingual;var t=document.querySelector("#langSwitch");if(t&&t.dataset.langs){let n=e.extractLang(window.location.hash.substring(2));t.setAttribute("class",n),t.dataset.langs.split(",").map((n=>n.toLowerCase())).forEach((n=>{const e=document.createElement("a");e.innerHTML=n,e.setAttribute("class",n),e.addEventListener("click",(()=>{window.MMDS.usr.bilingual.switchTo(n)})),t.appendChild(e)}))}}));