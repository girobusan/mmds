(()=>{window.MDS.usr.bilingual={changeLang:(n,t)=>window.MDS.usr.bilingual.extractLang(n)?n.replace(/\.([a-z]{1,3})\.([a-z]+)$/i,"."+t+".$2"):n,extractLang(n){var t=n.match(/\.([a-z]{1,3})\.[a-z]+$/i);return t?t[1]:""},switchTo:n=>{const t=window.MDS.usr.bilingual,e=window.location.hash.substring(2);console.log("switch to",t.changeLang(e,n)),window.MDS.go(t.changeLang(e,n))}},window.MDS.addUpdater(((n,t)=>{const e=window.MDS.usr.bilingual,a=e.extractLang(window.MDS.settings.menuFile),i=e.extractLang(n);if(a===i||!i)return;const s=e.changeLang(window.MDS.settings.menuFile,i);window.MDS.settings.menuFile=s,window.MDS.action.setMenu(s);var c=document.querySelector("#langSwitch");c&&(c.setAttribute("class",i),c.querySelectorAll("a").forEach((n=>{n.classList.remove("currentLanguage")})),c.querySelector("."+i).classList.add("currentLanguage"))})),console.info("Bilingual user script");const n=window.MDS.usr.bilingual;var t=document.querySelector("#langSwitch");if(t&&t.dataset.langs){let e=n.extractLang(window.location.hash.substring(2));t.setAttribute("class",e),t.dataset.langs.split(",").map((n=>n.toLowerCase())).forEach((n=>{const e=document.createElement("a");e.innerHTML=n,e.setAttribute("class",n),e.addEventListener("click",(()=>{window.MDS.usr.bilingual.switchTo(n)})),t.appendChild(e)}))}})();