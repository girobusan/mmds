# Многоязычный сайт

В дистрибутив MMDS включен скрипт, позволяющий создать базовый многоязычный сайт. 
Многоязычный сайт в MMDS обладает следующими свойствами:

- Сайт включает документы на произвольном количестве языков
- Каждый (в идеале) документ имеет версии на каждом из языков
- Каждому языку соответствует свой файл меню

## Шаг 1 : Именование файлов

Имена файлов должны соответствовать схеме `<имя>.<код языка>.md`, например:

|--|--|
| `my_bio.ru.md` | Фaйл `my_bio` на русском языке |
| `my_bio.en.md` | Тот же файл, на английском |

По такой же схеме должны быть именованы файлы меню и индекса. То есть, для каждого языка должна быть своя их версия.

## Шаг 2 : Настройки
В файле `settings.json`  меняем `indexFile` и `menuFile` на переименованные версии. Берем версии для того языка, который хотим отображать по умолчанию. 

Кроме адреса скрипта нам нужно будет добавить его конфигурацию (параметр `usr.bilingual`):

```

 {
   "title" : "My awesome site",
   "mdDir" : "docs/",
   "indexFile": "main.en.md",
   "menuFile": "sidebar.en.md",
   "scripts" : ["scripts/currentpage.js" , "scripts/bilingual.js"],
   "usr" : { "bilingual" : 
	      {
	         "langs" : "ru,en,es,ar"
                }
	  }
 }
 
```

Всё. Можно запустить локальный сервер, и посмотреть, что получилось. Если вы используете тему по умолчанию, то слева появится более-менее симпатичный виджет выбора языка.

### Как сделать свой виджет?
Достаточно добавить в основной файл любой элемент с `id=langSwitch`. В него автоматически добавятся ссылки с классами, соответствующими кодам языков. Ссылка, соответствующая выбранному языку будет иметь класс `currentLanguage`.

```
<div id="langSwitch"></div>
```

Кроме того, скрипт добавляет функции, которые можно использовать в собственных скриптах:

| Функция |  Параметры| Что делает |
| --|--|
| `widnow.MMDS.usr.bilingual.changeLang(p,l)` | Имя файла, код языка | Меняет в имени файла код языка на заданный |
| `window.MMDS.usr.bilingual.extractLang(p)` |  Имя файла | Извлекает код языка из имени файла |
| `window.MMDS.usr.bilingual.switchTo(l)` | Код языка | Переключается на заданный язык, аналог клика по виджету выбора языка |



В будущем, возможно, в скрипт добавятся дополнительные опции.


