window.MMDS.usr.bilingual={changeLang:(n,t)=>window.MMDS.usr.bilingual.extractLang(n)?n.replace(/\.([a-z]{1,3})\.([a-z]+)$/i,"."+t+".$2"):n,extractLang(n){var t=n.match(/\.([a-z]{1,3})\.[a-z]+$/i);return t?t[1]:""},switchTo:n=>{const t=window.MMDS.usr.bilingual,e=window.location.hash.substring(2);console.log("switch to",t.changeLang(e,n)),window.MMDS.go(t.changeLang(e,n))}},window.MMDS.addUpdater(((n,t)=>{const e=window.MMDS.usr.bilingual,a=e.extractLang(window.MMDS.settings.menuFile),i=e.extractLang(n);if(a===i||!i)return;const s=e.changeLang(window.MMDS.settings.menuFile,i);window.MMDS.settings.menuFile=s,window.MMDS.action.setMenu(s);var c=document.querySelector("#langSwitch");c&&(c.setAttribute("class",i),c.querySelectorAll("a").forEach((n=>{n.classList.remove("currentLanguage")})),c.querySelector("."+i).classList.add("currentLanguage"))})),console.info("Bilingual user script"),window.MMDS.once((function(n){const t=n.usr.bilingual;var e=document.querySelector("#langSwitch");if(e&&e.dataset.langs){let n=t.extractLang(window.location.hash.substring(2));e.setAttribute("class",n),e.dataset.langs.split(",").map((n=>n.toLowerCase())).forEach((n=>{const t=document.createElement("a");t.innerHTML=n,t.setAttribute("class",n),t.addEventListener("click",(()=>{window.MMDS.usr.bilingual.switchTo(n)})),e.appendChild(t)}))}}));