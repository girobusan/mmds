(()=>{window.MDS.usr.bilingual={changeLang:(n,t)=>window.MDS.usr.bilingual.extractLang(n)?(console.log("replace to",t),n.replace(/\.([a-z]{1,3})\.([a-z]+)$/i,"."+t+".$2")):n,extractLang(n){var t=n.match(/\.([a-z]{1,3})\.[a-z]+$/i);return t?t[1]:""},switchTo:n=>{const t=window.MDS.usr.bilingual,a=window.location.hash.substring(2);console.log("switch to",t.changeLang(a,n)),window.MDS.go(t.changeLang(a,n))}},window.MDS.addUpdater(((n,t)=>{const a=window.MDS.usr.bilingual,e=a.extractLang(window.MDS.settings.menuFile),i=a.extractLang(n);if(console.log("paths",e,i),e===i||!i)return;const s=a.changeLang(window.MDS.settings.menuFile,i);window.MDS.settings.menuFile=s,window.MDS.action.setMenu(s);var o=document.querySelector("#langSwitch");o&&o.setAttribute("class",i)})),console.info("Bilingual user script");const n=window.MDS.usr.bilingual;var t=document.querySelector("#langSwitch");if(t&&t.dataset.langs){let a=n.extractLang(window.location.hash.substring(2));t.setAttribute("class",a),t.dataset.langs.split(",").forEach((n=>{const a=document.createElement("a");a.innerHTML=n,a.setAttribute("class",n),a.addEventListener("click",(()=>{window.MDS.usr.bilingual.switchTo(n)})),t.appendChild(a)}))}})();